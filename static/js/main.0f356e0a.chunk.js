(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{11:function(e,r,t){e.exports={header:"Header_header__2ih8R",header_nav:"Header_header_nav__3OrmJ",header_nav__link:"Header_header_nav__link__1ifim"}},15:function(e,r,t){e.exports={wrapper:"SingInForm_wrapper__3zhj5",click:"SingInForm_click__3WO8j",has_error:"SingInForm_has_error__3eIZw",title:"SingInForm_title__uV39D",footer:"SingInForm_footer__2ARSL"}},18:function(e,r,t){e.exports={reg:"Registration_reg__2MTkG",reg_title:"Registration_reg_title__243Ch",reg_form:"Registration_reg_form__3LWhs",reg_form__error:"Registration_reg_form__error__1LPSu"}},29:function(e,r,t){e.exports={pnf:"pnf_pnf__2KgTX",pnf_error:"pnf_pnf_error__28Eus",pnf_descr:"pnf_pnf_descr__2rEup"}},30:function(e,r,t){e.exports={inputBase:"MyInput_inputBase__2TMXn",red:"MyInput_red__1pG1N"}},31:function(e,r,t){e.exports={btn:"MyBtn_btn__3_vFN",redBtn:"MyBtn_redBtn__1XT6N"}},32:function(e,r,t){e.exports={inputBase:"MyInputTest_inputBase__274cT",red:"MyInputTest_red__33Qh7"}},33:function(e,r,t){e.exports={btn:"MyBtnTest_btn__2P_lN",redBtn:"MyBtnTest_redBtn__3cebc"}},48:function(e,r,t){e.exports={error:"SetNewPassword_error__3tktq"}},52:function(e,r,t){},59:function(e,r,t){},60:function(e,r,t){},83:function(e,r,t){"use strict";t.r(r);var n=t(1),a=t(0),s=t(23),c=t.n(s),i=(t(59),t(60),t(5)),o=t(2),l=t(29),u=t.n(l),d=function(){return Object(n.jsxs)("section",{className:u.a.pnf,children:[Object(n.jsx)("div",{className:u.a.pnf_error,children:" 404 "}),Object(n.jsx)("p",{className:u.a.pnf_descr,children:"Sorry, Page not Found..."})]})},j=function(){return Object(n.jsxs)("section",{children:[Object(n.jsx)("h1",{children:"RecoveryPassword"}),Object(n.jsx)("span",{children:"Forgot your password?"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Enter your mail for "}),Object(n.jsx)("span",{children:"Enter your mail for "}),Object(n.jsx)("span",{children:"Enter your mail for "}),"BLA BLA",Object(n.jsx)("input",{})]})]})},p=t(21),b=t(48),h=t.n(b),m=t(25),O=t.n(m),f=t(4),x=function(){Object(f.b)();var e=Object(a.useState)(""),r=Object(p.a)(e,2),t=r[0],s=r[1],c=Object(a.useState)(""),i=Object(p.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(""),d=Object(p.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(!1),x=Object(p.a)(m,2),_=x[0],v=x[1];return O.a.get("https://social-network.samuraijs.com/api/1.0/users").then((function(e){console.log(e)})),Object(n.jsxs)("section",{children:[Object(n.jsx)("h1",{children:"Change your password"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Enter your old password:"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"text",onChange:function(e){console.log("oldPassword value: ",t);var r=e.target.value.trim();s(r)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Enter your new password:"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"text",onChange:function(e){console.log("newPassword value: ",o);var r=e.target.value.trim();l(r)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Repeat your new password:"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"text",onChange:function(e){console.log("acceptedNewPassword value: ",j);var r=e.target.value.trim();b(r)}})]}),_&&Object(n.jsx)("div",{className:h.a.error,children:"Your new password fields are different"}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){o!==j&&v(!0)},children:"Accept"})})]})},_=t(30),v=t.n(_);function g(e){return Object(n.jsx)("div",{children:Object(n.jsx)("input",{className:e.error?"".concat(v.a.inputBase," ").concat(v.a.red):v.a.inputBase,onBlur:e.onBlur,type:e.type,value:e.value,onChange:e.onChange,onKeyPress:e.onKeyPress,placeholder:e.placeholder,name:e.name})})}var w=t(31),y=t.n(w);function E(e){return Object(n.jsx)("div",{children:Object(n.jsxs)("button",{className:e.error?"".concat(y.a.redBtn," ").concat(y.a.btn):y.a.btn,onClick:e.onClick,disabled:e.disabled,type:e.type,children:[" ",e.name]})})}var C=t(18),k=t.n(C),S=function(e){var r=e.email,t=e.password,a=e.repeatPass,s=e.error,c=e.errors,i=e.onChange,o=e.formSubmit,l=c.email,u=c.password,d=c.repeatPass,j=l||u||d;return Object(n.jsx)("section",{children:Object(n.jsxs)("main",{className:k.a.reg,children:[Object(n.jsx)("div",{className:k.a.reg_title,children:" Registration form"}),Object(n.jsxs)("form",{className:k.a.reg_form,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Enter your email:"}),Object(n.jsx)(g,{error:!!l,type:"email",value:r,onChange:i,placeholder:"email...",name:"email"}),l?Object(n.jsx)("div",{className:k.a.reg_form__error,children:l}):null]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Enter your password:"}),Object(n.jsx)(g,{error:!!u,type:"password",value:t,onChange:i,placeholder:"min 8 symbols..",name:"password"}),u?Object(n.jsx)("div",{className:k.a.reg_form__error,children:c.password}):null]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Repeat your password:"}),Object(n.jsx)(g,{error:!!d,type:"password",value:a,onChange:i,placeholder:"min 8 symbols...",name:"repeatPass"}),d?Object(n.jsx)("div",{className:k.a.reg_form__error,children:c.repeatPass}):null]}),s?Object(n.jsxs)("p",{className:k.a.reg_form__error,children:[" ",s," "]}):"",Object(n.jsx)("div",{children:Object(n.jsx)(E,{error:!!j,disabled:!!j,name:"Register",onClick:o})})]})]})})},N=t(28),P=t(9),I=t.n(P),R=t(17),T=t(6),A=O.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),B=function(e,r){return A.post("auth/register",{email:e,password:r}).then((function(e){return e.data}))},F=function(e){return A.post("auth/login",e)},L=function(){return A.post("auth/me").then((function(e){return e.data}))},M=function(){return A.delete("auth/me").then((function(e){return e.data}))},G={profile:{}},Z=function(e){return{type:"/PROFILE/SET-PROFILE",profile:e}},U={isAuth:!1,loading:!1,error:"",registerSuccess:!1},V=function(e){return{type:"singIn/SET-IS-AUTH",isAuth:e}},z=function(){return{type:"/REG/SET-REGISTER-SUCCESS"}},D=function(e){return{type:"/REG/SET-LOADING",loading:e}},K=function(e){return{type:"/REG/SET-ERROR",error:e}},H=function(e){return function(){var r=Object(R.a)(I.a.mark((function r(t){var n,a;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,F(e);case 3:n=r.sent,t(V(!0)),t(Z(n.data)),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),a=r.t0.response?r.t0.response.data.error:r.t0.message+",more details on the console",t(V(!1)),console.log(a),r.abrupt("return",a);case 14:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},J=function(){var e=Object(f.c)((function(e){return e.auth})),r=e.error,t=e.registerSuccess,a=Object(f.c)((function(e){return e.auth.isAuth})),s=Object(f.b)(),c=Object(N.a)({initialValues:{email:"",password:"",repeatPass:""},validate:function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.password.length<8?r.password="Password must be more than 8 characters...":e.password!==e.repeatPass&&(r.repeatPass="Passwords do not match"):r.email="Invalid email address":r.email="Required",r},onSubmit:function(e){var r,t;s((r=e.email,t=e.password,function(){var e=Object(R.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(D(!0)),e.prev=1,e.next=4,B(r,t);case 4:e.sent.addedUser&&n(z()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(K(JSON.stringify(e.t0.response.data.error)));case 11:n(D(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}()))}});return t?Object(n.jsx)(o.a,{to:je}):a?Object(n.jsx)(o.a,{to:be}):Object(n.jsx)(S,{email:c.values.email,password:c.values.password,repeatPass:c.values.repeatPass,error:r,errors:c.errors,onChange:c.handleChange,formSubmit:c.handleSubmit})},q=t(15),X=t.n(q),W=t(32),$=t.n(W);function Q(e){return Object(n.jsx)("div",{children:Object(n.jsx)("input",{disabled:e.disable,className:e.error?"".concat($.a.inputBase," ").concat($.a.red):$.a.inputBase,onBlur:e.onBlur,type:e.type,value:e.value,onChange:e.onChange,onKeyPress:function(r){e.onKeyPress&&13===r.charCode&&e.onKeyPress()},placeholder:e.placeholder,name:e.name})})}var Y=t(33),ee=t.n(Y);function re(e){return Object(n.jsx)("div",{children:Object(n.jsxs)("button",{className:e.error?"".concat(ee.a.redBtn," ").concat(ee.a.btn):ee.a.btn,onClick:e.onClick,disabled:e.disabled,type:e.type,children:[" ",e.name]})})}var te=t(11),ne=t.n(te),ae=function(e){var r=e.hasPasswordFieldError||e.hasEmailFieldError;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:X.a.title,children:e.title}),Object(n.jsx)(Q,{type:"email",onChange:e.onChange,value:e.emailValue,placeholder:"email",name:"email",error:e.hasEmailFieldError})," ",e.formikEmailError?Object(n.jsx)("div",{className:X.a.has_error,children:e.formikEmailError}):null,e.formikConfirmError?Object(n.jsx)("div",{className:X.a.has_error,children:e.formikConfirmError}):null,Object(n.jsx)(Q,{type:"password",onChange:e.onChange,value:e.passValue,placeholder:"password",error:e.hasPasswordFieldError,name:"password"}),e.formikPassError?Object(n.jsx)("div",{className:X.a.has_error,children:e.formikPassError}):null,Object(n.jsxs)("div",{className:X.a.click,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"checkbox",onChange:e.onChange}),"RememberMe"]}),r?null:Object(n.jsx)(re,{name:"Login",type:"submit",onClick:e.onClick,disabled:r,error:r})]}),Object(n.jsxs)("div",{className:X.a.footer,children:[Object(n.jsx)("nav",{children:Object(n.jsx)(i.b,{to:pe,activeClassName:ne.a.header_nav__link,children:"SingUp"})}),Object(n.jsx)("nav",{children:Object(n.jsx)(i.b,{to:me,activeClassName:ne.a.header_nav__link,children:"Forgot?"})})]})]})},se=function(){var e=Object(f.b)(),r=Object(f.c)((function(e){return e.auth.isAuth})),t=Object(N.a)({initialValues:{email:"",password:"",rememberMe:!1,confirm:""},validate:function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.password?e.password.length<8&&(r.password="Must be more than 8 characters"):r.password="Required":r.email="Invalid email address":r.email="Required",e.confirm&&(r.confirm="Incorrect email or password"),r},onSubmit:function(){var r=Object(R.a)(I.a.mark((function r(t,n){var a;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(H(t));case 2:a=r.sent,n.setFieldError("confirm","Incorrect email or password"),console.log(JSON.stringify(a)+"novoe");case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}),a=!!t.errors.email,s=!!t.errors.password;return r?Object(n.jsx)(o.a,{to:be}):Object(n.jsx)("div",{className:X.a.wrapper,children:Object(n.jsx)("form",{onSubmit:t.handleSubmit,children:Object(n.jsx)(ae,{title:"LOGIN FORM",onChange:t.handleChange,onClick:t.handleSubmit,emailValue:t.values.email,formikConfirmError:t.errors.confirm,formikEmailError:t.errors.email,formikPassError:t.errors.password,passValue:t.values.password,hasEmailFieldError:a,hasPasswordFieldError:s})})})},ce=t(52),ie=t.n(ce),oe=t.p+"static/media/ava_default.17ad3620.jpg",le=function(e){var r=e.profile;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:r.avatar?r.avatar:oe,alt:""})}),Object(n.jsxs)("div",{children:["Name : ",r.name]}),Object(n.jsxs)("div",{children:["Email : ",r.email]}),Object(n.jsxs)("div",{children:["Public Card Packs Count : ",r.publicCardPacksCount]})]})},ue=function(e){var r=e.profile,t=e.onLogOut;return Object(n.jsx)("section",{children:Object(n.jsxs)("div",{className:ie.a.profile,children:[Object(n.jsx)(le,{profile:r}),Object(n.jsx)(E,{name:"LogOut",onClick:t})]})})},de=function(){var e=Object(f.c)((function(e){return e.auth.isAuth})),r=Object(f.c)((function(e){return e.profile.profile})),t=Object(f.b)();return e?Object(n.jsx)("section",{children:Object(n.jsx)(ue,{profile:r,onLogOut:function(){return t(function(){var e=Object(R.a)(I.a.mark((function e(r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:r(V(!1)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r){return e.apply(this,arguments)}}())}})}):Object(n.jsx)(o.a,{to:je})},je="/",pe="/registration",be="/profile",he="/404",me="/recoveryPass",Oe="/new-pass",fe=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:je,component:se}),Object(n.jsx)(o.b,{path:pe,component:J}),Object(n.jsx)(o.b,{path:be,component:de}),Object(n.jsx)(o.b,{path:me,component:j}),Object(n.jsx)(o.b,{path:Oe,component:x}),Object(n.jsx)(o.b,{path:he,component:d}),Object(n.jsx)(o.a,{from:"*",to:he})]})})},xe=function(e){return Object(n.jsx)("section",{className:ne.a.header,children:Object(n.jsxs)("nav",{className:ne.a.header_nav,children:[Object(n.jsx)(i.b,{to:je,exact:!0,activeClassName:ne.a.header_nav__link,children:"Sign In"}),Object(n.jsx)(i.b,{to:me,activeClassName:ne.a.header_nav__link,children:"Recovery password"}),Object(n.jsx)(i.b,{to:Oe,activeClassName:ne.a.header_nav__link,children:"Set new Password"}),Object(n.jsx)(i.b,{to:pe,activeClassName:ne.a.header_nav__link,children:"Registration"}),Object(n.jsx)(i.b,{to:be,activeClassName:ne.a.header_nav__link,children:"Profile"}),Object(n.jsx)(i.b,{to:he,activeClassName:ne.a.header_nav__link,children:"404"})]})})},_e=t.p+"static/media/loader.37f92040.svg",ve={width:"60px",height:"60px",display:"block",margin:"0 auto"},ge=function(){return Object(n.jsx)("img",{src:_e,alt:"preloader",style:ve})},we={isInitializing:!1},ye=function(e){return{type:"/APP/SET-INITIALIZED",isInitializing:e}};var Ee=function(){var e=Object(f.c)((function(e){return e.app.isInitializing})),r=Object(f.b)();return Object(a.useEffect)((function(){r(function(){var e=Object(R.a)(I.a.mark((function e(r){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:t=e.sent,r(Z(t)),r(V(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 11:r(ye(!0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}())}),[]),e?Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(xe,{}),Object(n.jsx)(fe,{})]}):Object(n.jsx)(ge,{})},Ce=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,84)).then((function(r){var t=r.getCLS,n=r.getFID,a=r.getFCP,s=r.getLCP,c=r.getTTFB;t(e),n(e),a(e),s(e),c(e)}))},ke=t(20),Se=t(53),Ne=Object(ke.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"singIn/SET-IS-AUTH":return Object(T.a)(Object(T.a)({},e),{},{isAuth:r.isAuth});case"/REG/SET-ERROR":return Object(T.a)(Object(T.a)({},e),{},{error:r.error});case"/REG/SET-REGISTER-SUCCESS":return Object(T.a)(Object(T.a)({},e),{},{registerSuccess:!0});case"/REG/SET-LOADING":return Object(T.a)(Object(T.a)({},e),{},{loading:r.loading});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"/PROFILE/SET-PROFILE":return Object(T.a)(Object(T.a)({},e),{},{profile:Object(T.a)({},r.profile)});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"/APP/SET-INITIALIZED":return Object(T.a)(Object(T.a)({},e),{},{isInitializing:r.isInitializing});default:return e}}}),Pe=Object(ke.d)(Ne,Object(ke.a)(Se.a));window.store=Pe,c.a.render(Object(n.jsx)(f.a,{store:Pe,children:Object(n.jsx)(i.a,{children:Object(n.jsx)(Ee,{})})}),document.getElementById("root")),Ce()}},[[83,1,2]]]);
//# sourceMappingURL=main.0f356e0a.chunk.js.map