(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{14:function(e,r,n){e.exports={wrapper:"SingInForm_wrapper__3zhj5",click:"SingInForm_click__3WO8j",has_error:"SingInForm_has_error__3eIZw",title:"SingInForm_title__uV39D",footer:"SingInForm_footer__2ARSL"}},16:function(e,r,n){e.exports={reg:"Registration_reg__2MTkG",reg_title:"Registration_reg_title__243Ch",reg_form:"Registration_reg_form__3LWhs",reg_form__error:"Registration_reg_form__error__1LPSu"}},29:function(e,r,n){e.exports={pnf:"pnf_pnf__2KgTX",pnf_error:"pnf_pnf_error__28Eus",pnf_descr:"pnf_pnf_descr__2rEup"}},30:function(e,r,n){e.exports={btn:"MyBtn_btn__3_vFN",redBtn:"MyBtn_redBtn__1XT6N"}},31:function(e,r,n){e.exports={inputBase:"MyInput_inputBase__2TMXn",red:"MyInput_red__1pG1N"}},32:function(e,r,n){e.exports={inputBase:"MyInputTest_inputBase__274cT",red:"MyInputTest_red__33Qh7"}},33:function(e,r,n){e.exports={btn:"MyBtnTest_btn__2P_lN",redBtn:"MyBtnTest_redBtn__3cebc"}},48:function(e,r,n){e.exports={error:"SetNewPassword_error__3tktq"}},58:function(e,r,n){},59:function(e,r,n){},8:function(e,r,n){e.exports={header:"Header_header__2ih8R",header_nav:"Header_header_nav__3OrmJ",header_nav__link:"Header_header_nav__link__1ifim"}},82:function(e,r,n){"use strict";n.r(r);var t=n(1),a=n(0),s=n(22),o=n.n(s),c=(n(58),n(59),n(4)),i=n(2),l=function(){return Object(t.jsx)("section",{children:"Profile"})},d=n(29),j=n.n(d),u=function(){return Object(t.jsxs)("section",{className:j.a.pnf,children:[Object(t.jsx)("div",{className:j.a.pnf_error,children:" 404 "}),Object(t.jsx)("p",{className:j.a.pnf_descr,children:"Sorry, Page not Found..."})]})},p=function(){return Object(t.jsxs)("section",{children:[Object(t.jsx)("h1",{children:"RecoveryPassword"}),Object(t.jsx)("span",{children:"Forgot your password?"}),Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{children:"Enter your mail for "}),Object(t.jsx)("span",{children:"Enter your mail for "}),Object(t.jsx)("span",{children:"Enter your mail for "}),"BLA BLA",Object(t.jsx)("input",{})]})]})},b=n(20),h=n(48),m=n.n(h),_=n(24),O=n.n(_),f=n(10),x=function(){Object(f.b)();var e=Object(a.useState)(""),r=Object(b.a)(e,2),n=r[0],s=r[1],o=Object(a.useState)(""),c=Object(b.a)(o,2),i=c[0],l=c[1],d=Object(a.useState)(""),j=Object(b.a)(d,2),u=j[0],p=j[1],h=Object(a.useState)(!1),_=Object(b.a)(h,2),x=_[0],v=_[1];return O.a.get("https://social-network.samuraijs.com/api/1.0/users").then((function(e){console.log(e)})),Object(t.jsxs)("section",{children:[Object(t.jsx)("h1",{children:"Change your password"}),Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{children:"Enter your old password:"}),Object(t.jsx)("br",{}),Object(t.jsx)("input",{type:"text",onChange:function(e){console.log("oldPassword value: ",n);var r=e.target.value.trim();s(r)}})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{children:"Enter your new password:"}),Object(t.jsx)("br",{}),Object(t.jsx)("input",{type:"text",onChange:function(e){console.log("newPassword value: ",i);var r=e.target.value.trim();l(r)}})]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{children:"Repeat your new password:"}),Object(t.jsx)("br",{}),Object(t.jsx)("input",{type:"text",onChange:function(e){console.log("acceptedNewPassword value: ",u);var r=e.target.value.trim();p(r)}})]}),x&&Object(t.jsx)("div",{className:m.a.error,children:"Your new password fields are different"}),Object(t.jsx)("div",{children:Object(t.jsx)("button",{onClick:function(){i!==u&&v(!0)},children:"Accept"})})]})},v=n(30),g=n.n(v);function w(e){return Object(t.jsx)("div",{children:Object(t.jsxs)("button",{className:e.error?"".concat(g.a.redBtn," ").concat(g.a.btn):g.a.btn,onClick:e.onClick,disabled:e.disabled,type:e.type,children:[" ",e.name]})})}var y=n(31),C=n.n(y);function E(e){return Object(t.jsx)("div",{children:Object(t.jsx)("input",{className:e.error?"".concat(C.a.inputBase," ").concat(C.a.red):C.a.inputBase,onBlur:e.onBlur,type:e.type,value:e.value,onChange:e.onChange,onKeyPress:e.onKeyPress,placeholder:e.placeholder,name:e.name})})}var S=n(19),k=n.n(S),N=n(25),P=n(28),R=n(14),I=n.n(R),B=n(11),T=O.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),F=function(e){return T.post("auth/login",e)},A={isAuth:!1},M=function(e){return{type:"singIn/SET-IS-AUTH",isAuth:e}},G=function(e){return function(){var r=Object(N.a)(k.a.mark((function r(n){var t;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,F(e);case 3:r.sent,n(M(!0)),r.next=13;break;case 7:return r.prev=7,r.t0=r.catch(0),t=r.t0.response?r.t0.response.data.error:r.t0.message+",more details on the console",n(M(!1)),console.log(t),r.abrupt("return",t);case 13:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},L=n(32),U=n.n(L);function V(e){return Object(t.jsx)("div",{children:Object(t.jsx)("input",{disabled:e.disable,className:e.error?"".concat(U.a.inputBase," ").concat(U.a.red):U.a.inputBase,onBlur:e.onBlur,type:e.type,value:e.value,onChange:e.onChange,onKeyPress:function(r){e.onKeyPress&&13===r.charCode&&e.onKeyPress()},placeholder:e.placeholder,name:e.name})})}var Z=n(33),K=n.n(Z);function H(e){return Object(t.jsx)("div",{children:Object(t.jsxs)("button",{className:e.error?"".concat(K.a.redBtn," ").concat(K.a.btn):K.a.btn,onClick:e.onClick,disabled:e.disabled,type:e.type,children:[" ",e.name]})})}var J=n(8),q=n.n(J),D=function(e){var r=e.hasPasswordFieldError||e.hasEmailFieldError;return Object(t.jsxs)("div",{children:[Object(t.jsx)("div",{className:I.a.title,children:e.title}),Object(t.jsx)(V,{type:"email",onChange:e.onChange,value:e.emailValue,placeholder:"email",name:"email",error:e.hasEmailFieldError})," ",e.formikEmailError?Object(t.jsx)("div",{className:I.a.has_error,children:e.formikEmailError}):null,e.formikConfirmError?Object(t.jsx)("div",{className:I.a.has_error,children:e.formikConfirmError}):null,Object(t.jsx)(V,{type:"password",onChange:e.onChange,value:e.passValue,placeholder:"password",error:e.hasPasswordFieldError,name:"password"}),e.formikPassError?Object(t.jsx)("div",{className:I.a.has_error,children:e.formikPassError}):null,Object(t.jsxs)("div",{className:I.a.click,children:[Object(t.jsxs)("div",{children:[Object(t.jsx)("input",{type:"checkbox",onChange:e.onChange}),"RememberMe"]}),r?null:Object(t.jsx)(H,{name:"Login",type:"submit",onClick:e.onClick,disabled:r,error:r})]}),Object(t.jsxs)("div",{className:I.a.footer,children:[Object(t.jsxs)("nav",{children:["SingUp",Object(t.jsx)(c.b,{to:le,activeClassName:q.a.header_nav__link,children:"SingUp"})]}),Object(t.jsxs)("nav",{children:["Forgot?",Object(t.jsx)(c.b,{to:ue,activeClassName:q.a.header_nav__link,children:"Forgot?"})]})]})]})},X=function(){var e=Object(f.b)(),r=Object(f.c)((function(e){return e.signIn.isAuth})),n=Object(P.a)({initialValues:{email:"",password:"",rememberMe:!1,confirm:""},validate:function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.password?e.password.length<8&&(r.password="Must be more than 8 characters"):r.password="Required":r.email="Invalid email address":r.email="Required",e.confirm&&(r.confirm="Incorrect email or password"),r},onSubmit:function(){var r=Object(N.a)(k.a.mark((function r(n,t){var a;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(G(n));case 2:a=r.sent,t.setFieldError("confirm","Incorrect email or password"),console.log(JSON.stringify(a)+"novoe");case 5:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}()});if(r)return Object(t.jsx)(i.a,{to:"/profile"});var a=!!n.errors.email,s=!!n.errors.password;return Object(t.jsx)("div",{className:I.a.wrapper,children:Object(t.jsx)("form",{onSubmit:n.handleSubmit,children:Object(t.jsx)(D,{title:"LOGIN FORM",onChange:n.handleChange,onClick:n.handleSubmit,emailValue:n.values.email,formikConfirmError:n.errors.confirm,formikEmailError:n.errors.email,formikPassError:n.errors.password,passValue:n.values.password,hasEmailFieldError:a,hasPasswordFieldError:s})})})},W=function(){return Object(t.jsxs)("section",{children:[Object(t.jsx)(w,{name:"test",onClick:function(){return alert("hello")}}),Object(t.jsx)(E,{type:"input",value:"",onChange:function(){return console.log("hello")}}),Object(t.jsx)("hr",{}),Object(t.jsx)(X,{})]})},$=n(16),z=n.n($),Q=n.p+"static/media/loader.37f92040.svg",Y={width:"60px",height:"60px",display:"block",margin:"0 auto"},ee=function(){return Object(t.jsx)("img",{src:Q,alt:"preloader",style:Y})},re=function(e){var r=e.email,n=e.password,a=e.repeatPass,s=e.error,o=e.errors,c=e.loading,i=e.onChange,l=e.formSubmit,d=o.email,j=o.password,u=o.repeatPass,p=d||j||u;return c?Object(t.jsx)(ee,{}):Object(t.jsx)("section",{children:Object(t.jsxs)("main",{className:z.a.reg,children:[Object(t.jsx)("div",{className:z.a.reg_title,children:" Registration form"}),Object(t.jsxs)("form",{className:z.a.reg_form,children:[Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{children:"Enter your email:"}),Object(t.jsx)(E,{error:!!d,type:"email",value:r,onChange:i,placeholder:"email...",name:"email"}),d?Object(t.jsx)("div",{className:z.a.reg_form__error,children:d}):null]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{children:"Enter your password:"}),Object(t.jsx)(E,{error:!!j,type:"password",value:n,onChange:i,placeholder:"min 8 symbols..",name:"password"}),j?Object(t.jsx)("div",{className:z.a.reg_form__error,children:o.password}):null]}),Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{children:"Repeat your password:"}),Object(t.jsx)(E,{error:!!u,type:"password",value:a,onChange:i,placeholder:"min 8 symbols...",name:"repeatPass"}),u?Object(t.jsx)("div",{className:z.a.reg_form__error,children:o.repeatPass}):null]}),s?Object(t.jsxs)("p",{className:z.a.reg_form__error,children:[" ",s," "]}):"",Object(t.jsx)("div",{children:Object(t.jsx)(w,{error:!!p,disabled:!!p,name:"Login",onClick:l})})]})]})})},ne=function(e,r){return T.post("auth/register",{email:e,password:r}).then((function(e){return e.data}))},te=function(){return{type:"/REG/SET-REGISTER-SUCCESS"}},ae=function(e){return{type:"/REG/SET-LOADING",loading:e}},se=function(e){return{type:"/REG/SET-ERROR",error:e}},oe={loading:!1,error:"",registerSuccess:!1},ce=function(){var e=Object(f.c)((function(e){return e.registration})),r=e.loading,n=e.error,a=e.registerSuccess,s=Object(f.b)(),o=Object(P.a)({initialValues:{email:"",password:"",repeatPass:""},validate:function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.password.length<8?r.password="Password must be more than 8 characters...":e.password!==e.repeatPass&&(r.repeatPass="Passwords do not match"):r.email="Invalid email address":r.email="Required",r},onSubmit:function(e){var r,n;s((r=e.email,n=e.password,function(e){e(ae(!0)),ne(r,n).then((function(r){r.addedUser&&e(te())})).catch((function(r){e(se(JSON.stringify(r.response.data.error)))})).finally((function(){return e(ae(!1))}))}))}});return a?Object(t.jsx)(i.a,{to:ie}):Object(t.jsx)(re,{email:o.values.email,password:o.values.password,repeatPass:o.values.repeatPass,error:n,errors:o.errors,loading:r,onChange:o.handleChange,formSubmit:o.handleSubmit})},ie="/signIn",le="/registration",de="/profile",je="/404",ue="/recovery-pass",pe="/new-pass",be="/test-component",he=function(){return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(i.b,{path:ie,component:X}),Object(t.jsx)(i.b,{path:le,component:ce}),Object(t.jsx)(i.b,{path:de,component:l}),Object(t.jsx)(i.b,{path:je,component:u}),Object(t.jsx)(i.b,{path:ue,component:p}),Object(t.jsx)(i.b,{path:pe,component:x}),Object(t.jsx)(i.b,{path:be,component:W})]})},me=function(e){return Object(t.jsx)("section",{className:q.a.header,children:Object(t.jsxs)("nav",{className:q.a.header_nav,children:[Object(t.jsx)(c.b,{to:ie,activeClassName:q.a.header_nav__link,children:"Sign In"}),Object(t.jsx)(c.b,{to:ue,activeClassName:q.a.header_nav__link,children:"Recovery password"}),Object(t.jsx)(c.b,{to:pe,activeClassName:q.a.header_nav__link,children:"Set new Password"}),Object(t.jsx)(c.b,{to:le,activeClassName:q.a.header_nav__link,children:"Registration"}),Object(t.jsx)(c.b,{to:de,activeClassName:q.a.header_nav__link,children:"Profile"}),Object(t.jsx)(c.b,{to:je,activeClassName:q.a.header_nav__link,children:"404"}),Object(t.jsx)(c.b,{to:be,activeClassName:q.a.header_nav__link,children:"Test Components"})]})})};var _e=function(){return Object(t.jsxs)("div",{className:"App",children:[Object(t.jsx)(me,{}),Object(t.jsx)(he,{})]})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(r){var n=r.getCLS,t=r.getFID,a=r.getFCP,s=r.getLCP,o=r.getTTFB;n(e),t(e),a(e),s(e),o(e)}))},fe=n(18),xe=n(52),ve={test:"test123"},ge=Object(fe.c)({signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"singIn/SET-IS-AUTH":return Object(B.a)(Object(B.a)({},e),{},{isAuth:r.isAuth});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"/REG/SET-ERROR":return Object(B.a)(Object(B.a)({},e),{},{error:r.error});case"/REG/SET-REGISTER-SUCCESS":return Object(B.a)(Object(B.a)({},e),{},{registerSuccess:!0});case"/REG/SET-LOADING":return Object(B.a)(Object(B.a)({},e),{},{loading:r.loading});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"TEST":default:return e}}}),we=Object(fe.d)(ge,Object(fe.a)(xe.a));window.store=we,o.a.render(Object(t.jsx)(f.a,{store:we,children:Object(t.jsx)(c.a,{children:Object(t.jsx)(_e,{})})}),document.getElementById("root")),Oe()}},[[82,1,2]]]);
//# sourceMappingURL=main.2f7a78c2.chunk.js.map